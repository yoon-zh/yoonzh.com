<!-- _layouts/default.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <!-- _includes/head.html -->
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="referrer" content="no-referrer-when-downgrade">
  <title>chemcount - yoonzh.com</title>
  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  <link rel="shortcut icon" href="/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
  <meta name="apple-mobile-web-app-title" content="Ïú§Âøó" />
  <link rel="manifest" href="/site.webmanifest" />
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css">
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body);"></script>
  
  
</head>
</head>
<body class="">
  <!-- _includes/header.html -->
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-K2M9QVQ44D"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-K2M9QVQ44D');
</script>

<header class="site-header">
  <div class="nav-container">
    <div class="logo-group">
      <a href="/" class="logo-image">
        <img src="/images/pepito-square.jpg" alt="Home">
      </a>
      <div class="logo-container">
        <a href="/" class="logo-link">
          <h1 class="logo">Ïú§Âøó</h1>
        </a>
        <p class="logo-subtitle">[‰∫ë ~ Ï∞å]</p>
      </div>
    </div>
    <nav class="nav-links">
      
        <a href="/projects/" class="hover-glow">Projects</a>
      
        <a href="/posts/" class="hover-glow">Posts</a>
      
        <a href="/about/" class="hover-glow">About</a>
      
    </nav>
  </div>
</header>
  
  <main class="page-content">
    <!-- _layouts/project.html -->
<article class="article-detail">
  <!-- _includes/article-content.html -->
<header class="article-header">
  <h1>
    Chemical Compound Parser
    
      <a href="https://github.com/yoon-zh/chemcount" class="github-icon" target="_blank">
        <span class="github-mini">
          <i class="fab fa-github"></i>
        </span>
      </a>
    
  </h1>
  
  <div class="tech-tags">
    
      <span class="tech-tag">C/C++</span>
    
  </div>
  
  <div class="article-meta">
    
      <time datetime="2025-02-13T00:00:00+00:00">
        üìÖ 2025/02/13
      </time>
    
  </div>
</header>

<div class="article-content">
  <h2 id="what-is-it">What is it?</h2>

<p>A simple library in C for a chemical formula parser that converts strings like <code class="language-text highlighter-rouge">C2H5OH</code> into structured element counts, including total element types.</p>

<h2 id="features">Features</h2>

<ul>
  <li>Parses chemical formulas (e.g., <code class="language-text highlighter-rouge">CoCl3 + 6(NH3)</code>) into element counts</li>
  <li>Handles parentheses for grouped compounds (e.g., <code class="language-text highlighter-rouge">6(CO2) ‚Üí C:3, O:6</code>)</li>
  <li>Returns a <code class="language-text highlighter-rouge">cElement</code> struct with total element count <code class="language-text highlighter-rouge">"TTT"</code> and individual element quantities</li>
</ul>

<h2 id="installation">Installation</h2>

<p>Clone the repository and compile the code:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/yoonzh/chemcount
</code></pre></div></div>

<h2 id="usage">Usage</h2>

<p>Import the chemcount library in your code:</p>
<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">"chemcount.h"</span><span class="cp">
</span></code></pre></div></div>

<p>Then build into object file and link into your function.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>chemcount  
gcc <span class="nt">-c</span> chemcount.c
gcc yourprogram.c chemcount.o <span class="nt">-o</span> yourprogram
</code></pre></div></div>

<h2 id="output-format">Output Format</h2>
<p>The <code class="language-text highlighter-rouge">cElement</code> struct is an array of arrays sorted by order in the input string.</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cElement</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">name</span> <span class="o">=</span> <span class="s">"TTT"</span><span class="p">;</span>
<span class="n">cElement</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">amount</span> <span class="o">=</span> <span class="n">N</span><span class="p">;</span>
</code></pre></div></div>

<p>The first element in the struct has the title <code class="language-text highlighter-rouge">"TTT"</code> and <code class="language-text highlighter-rouge">N</code> is the total unique elements in the formula.</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">cElement</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">amount</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\t</span><span class="s">%f</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">cElement</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">name</span><span class="p">,</span> <span class="n">cElement</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">amount</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>The other objects in the <code class="language-text highlighter-rouge">cElement</code> struct contain the string of the element and its amount in the compound.</p>

<p><code class="language-text highlighter-rouge">chemcount</code> has a built-in function <code class="language-text highlighter-rouge">printElements(cElement)</code> to easily visualize the total elements in the <code class="language-text highlighter-rouge">cElement</code> struct.</p>

<h2 id="example">Example</h2>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">chemcount</span><span class="p">(</span><span class="s">"C2H5OH"</span><span class="p">);</span>
<span class="cm">/* Returns:
 * ["TTT", 3]
 * ["C", 2]
 * ["H", 6]
 * ["O", 1]
 */</span>

<span class="n">chemcount</span><span class="p">(</span><span class="s">"CoCl3 + 6(NH3)"</span><span class="p">);</span>
<span class="cm">/* Returns:
 * ["TTT", 4]
 * ["Co", 1]
 * ["Cl", 3]
 * ["N", 6]
 * ["H", 18]
 */</span>
</code></pre></div></div>

<h2 id="mainc-example">main.c example</h2>

<p>In the repository you may find a main function containing an example of the usage. To use this example, run the following commands in your terminal:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/yoonzh/chemcount
<span class="nb">cd </span>chemcount
gcc <span class="nt">-c</span> chemcount.c
gcc main.c chemcount.o <span class="nt">-o</span> main
./main
</code></pre></div></div>

<h2 id="assumptions">Assumptions</h2>
<ul>
  <li>Case-sensitive: <code class="language-text highlighter-rouge">Co</code> (cobalt) ‚â† <code class="language-text highlighter-rouge">CO</code> (carbon monoxide).</li>
  <li>Parentheses: Coefficients outside parentheses apply to all nested elements (e.g., <code class="language-text highlighter-rouge">(H2O)2 ‚Üí H:4, O:2</code>, <code class="language-text highlighter-rouge">2(O2 + N2) ‚Üí O:4, N:4</code>).</li>
  <li>Implicit ‚Äú1‚Äù: Missing counts are treated as 1 (e.g., <code class="language-text highlighter-rouge">OH ‚Üí O:1, H:1</code>).</li>
</ul>

<!--Written by Jorge Porras (2025)-->

</div>
</article>
  </main>

  <!-- _includes/footer.html -->
<footer class="site-footer">
  <div class="footer-content">
    <div class="social-links">
      <a href="https://github.com/yoon-zh" class="hover-glow" aria-label="GitHub">
        <i class="fab fa-github"></i>
      </a>
      <a href="mailto:yoon_zh@outlook.com" class="hover-glow" aria-label="Email">
        <i class="fas fa-envelope"></i>
      </a>
      <a href="https://www.linkedin.com/in/jorge-porras-1a7393282/" class="hover-glow" aria-label="LinkedIn">
        <i class="fab fa-linkedin"></i>
      </a>
      <a href="https://t.me/yo_o_n" class="hover-glow" aria-label="Telegram">
        <i class="fab fa-telegram-plane"></i>
      </a>
    </div>
    <div class="footer-bottom">
      <p>¬© 2025 Ïú§Âøó. All rights reserved.</p>
    </div>
  </div>
</footer>
<script src="/scripts/main.js"></script>
<script src="/scripts/codeblocks.js"></script>
<script src="/scripts/axeptio.js"></script>
</body>
</html>