<!-- _layouts/default.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <!-- _includes/head.html -->
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="referrer" content="no-referrer-when-downgrade">
  <title>yoonzh.com</title>
  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css">
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body);"></script>
  
</head>
</head>
<body class="">
  <!-- _includes/header.html -->
<header class="site-header">
  <div class="nav-container">
    <div class="logo-container">
      <a href="/" class="logo-link">
        <h1 class="logo">Ïú§Âøó</h1>
      </a>
      <p class="logo-subtitle">[‰∫ë ~ Ï∞å]</p>
    </div>
    <nav class="nav-links">
      
        <a href="/projects/" class="hover-glow">Projects</a>
      
        <a href="/posts/" class="hover-glow">Posts</a>
      
        <a href="/about/" class="hover-glow">About</a>
      
    </nav>
  </div>
</header>
  
  <main class="page-content">
    <!-- _layouts/project.html -->
<article class="project-detail">
  <!-- _includes/article-content.html -->
<header class="project-header">
  <h1>
    Adiabatic flame temperature (AFT) calculator
    
      <a href="https://github.com/yoon-zh/flametemp" class="github-icon" target="_blank">
        <span class="github-mini">
          <i class="fab fa-github"></i>
        </span>
      </a>
    
  </h1>
  <div class="project-meta">
    
      <time datetime="2025-02-14T00:00:00+00:00">
        üìÖ 2025/02/14
      </time>
    
  </div>
  
  <div class="tech-tags">
    
      <span class="tech-tag">MATLAB</span>
    
      <span class="tech-tag">Thermodynamics</span>
    
  </div>
  
</header>

<div class="project-content">
  <h2 id="what-is-it">What is it?</h2>

<p>The temperature resulting from the combustion of a mix of fuels with air under the assumption of no heat loss in a steady process.</p>

<p><strong>Figure 1:</strong> AFT from a combustion chamber.</p>

<p><img src="https://github.com/user-attachments/assets/b2c00af6-0b87-471b-9bdf-b8abb648647f" alt="image" /></p>

<p><em>Taken from <sup id="fnref:1"><a href="#fn:1" class="footnote" rel="footnote" role="doc-noteref">1</a></sup>, pg 780</em></p>

<p>In simple terms, <strong>adiabatic</strong> means no heat loss to the surroundings. If the combustion inside a chamber is adiabatic, the assumption is there is no heat transfer to the outside of the chamber.
The main things to consider when calculating the AFT is:</p>

<ol>
  <li>Fuels and their states (liquid, gas‚Ä¶)</li>
  <li>Amount of air used and its humidity</li>
  <li>Environmental conditions such as temperature and pressure</li>
  <li>Degree of completion of the reaction</li>
</ol>

<p>The AFT is <strong>maximum</strong> when the proportions of fuels and air is 1:1. In other words, when all the fuels react with all the air available, there is no extra air or fuel components left in the product.</p>

<h2 id="why-do-we-care-about-it">Why do we care about it?</h2>

<p>There are plenty of applications for it, but to name a few:</p>

<ol>
  <li>Designing a combustion chamber
The AFT essentially provides the maximum temperature a combustion can ever reach, which is under ideal conditions. This is a useful reference value for the design process of a combustion chamber, for example when choosing the materials or carrying out a simulation.</li>
  <li>Determining efficiency
When aiming for high temperatures, the AFT can be understood as the ‚Äúbest‚Äù temperature the combustion process can reach. This value can be compared to a real flame temperature to evaluate the heat losses and efficiency of the combustion process.</li>
  <li>Designing thermodynamic cycles
In a cycle that involves combustion chambers, the AFT can be used along with the conditions of the cycle such as power output and efficiency to determine the molar flow and fractions of the combustion chamber (in simpler words, how much fuel is needed to produce certain amount of energy in a power plant design).</li>
</ol>

<h2 id="how-to-calculate-it">How to calculate it?</h2>

<p>The key for calculating AFT is using enthalpy. Considering the combustion chamber as the system, an adiabatic combustion process implies there is no energy loss, for which the enthalpies of the products is equal to the enthalpies of the reactants:</p>

<!--![image](https://github.com/user-attachments/assets/dbd67560-970f-4bb2-8248-c25c8eb43f84)-->

\[H_{\text{prod}} = H_{\text{react}}\]

\[\sum N_p \left( \overline{h^{\circ}_f} + \overline{h} - \overline{h^{\circ}} \right)_p = \sum N_r \left( \overline{h^{\circ}_r} + \overline{h} - \overline{h^{\circ}} \right)_r\]

<p><em>Taken from <sup id="fnref:1:1"><a href="#fn:1" class="footnote" rel="footnote" role="doc-noteref">1</a></sup>, pg 780</em></p>

<p>In the equation above, \(\overline{h^{\circ}_f}\) is the enthalpy of formation, and \(\overline{h^{\circ}}\) the enthalpy at 298K. \(\overline{h}\) is the enthalpy at the temperature of the elements before and after the reaction. Consider this enthalpy as \(\overline{h}_{flame}\). <em>Adapted from <sup id="fnref:2"><a href="#fn:2" class="footnote" rel="footnote" role="doc-noteref">2</a></sup>.</em></p>

<p>Therefore, calculating the AFT can be considered in three steps:</p>
<ol>
  <li>Determining the moles of the reactants and products.</li>
  <li>Obtaining the enthalpies for each reactant and product from the above equation and solving for \(\overline{h}_{flame}\).</li>
  <li>Linking \(\overline{h}_{flame}\) to its corresponding temperature, \(T_{flame}\).</li>
</ol>

<p>However, step 3 can be particularly challenging since \(\overline{h}_{flame}\) is different for each product. Therefore, a common technique to calculate it is assuming all products are N2 (since the products will be mostly N2), solving for \(\overline{h}_{flame}\), and interpolating from there.</p>

<p>This process is rather tedious and timetaking, but necessary for critical applications. In an attempt to simplify the calculation process, this code provides a function to calculate the AFT: flametemp()</p>

<h2 id="tutorial-for-flametemp">Tutorial for flametemp()</h2>

<p>To use this function, you need the following information:</p>
<ol>
  <li>Fuels to be used</li>
  <li>State of the fuels</li>
  <li>Fractions of the fuels, if more than one fuel is used</li>
  <li>Proportion of air in the reaction</li>
  <li>Relative humidity of air</li>
  <li>Air temperature in ¬∞C</li>
  <li>Atmospheric pressure in kPa</li>
  <li>Conversion rate of CO2</li>
  <li>Conversion rate of H2O</li>
</ol>

<p>If you are designing a cycle, you may also need the molar fractions of the products and heat of the combustors, for which you should include:</p>

<ol>
  <li>Number of combustors</li>
  <li>Efficiency of the cycle</li>
  <li>Power output of the cycle</li>
</ol>

<p>Below is an example of the syntax:</p>

<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="n">fuels</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"C2H5OH"</span><span class="p">,</span> <span class="s2">"C3H6"</span><span class="p">];</span>     <span class="c1">% Mix of fuels, can be more than one
</span>
<span class="n">fuel_state</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"(l)"</span><span class="p">,</span> <span class="s2">"(g)"</span><span class="p">];</span>    <span class="c1">% Fuel state (liquid or gas)
</span>
<span class="n">fractions</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.75</span><span class="p">];</span>       <span class="c1">% Fuel fractions (proportions in the mix)
</span>
<span class="n">real_air</span> <span class="o">=</span> <span class="mf">1.3</span><span class="p">;</span>                 <span class="c1">% Air proportion
</span>
<span class="n">phi</span> <span class="o">=</span> <span class="mf">0.85</span><span class="p">;</span>                     <span class="c1">% Relative humidity
</span>
<span class="n">air_temp</span> <span class="o">=</span> <span class="mi">40</span><span class="p">;</span>                  <span class="c1">% Air temperature in ¬∞C
</span>
<span class="n">pressure</span> <span class="o">=</span> <span class="mf">101.325</span><span class="p">;</span>             <span class="c1">% Atmospheric pressure in kPa
</span>
<span class="n">xCO2</span> <span class="o">=</span> <span class="mf">0.7</span><span class="p">;</span>                     <span class="c1">% Conversion of CO2
</span>
<span class="n">xH2O</span> <span class="o">=</span> <span class="mf">0.75</span><span class="p">;</span>                    <span class="c1">% Conversion of H2O
</span>

<span class="c1">% Optional values for cycle information
</span>
<span class="n">num_comb</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>                   <span class="c1">% Number of combustors in the cycle
</span>
<span class="c1">% If including this, also include 2 of the following 3:
</span>
<span class="n">eff</span> <span class="o">=</span> <span class="mf">0.4</span><span class="p">;</span>                      <span class="c1">% Efficiency of the cycle
</span>
<span class="n">Wnet</span> <span class="o">=</span> <span class="mi">200</span><span class="p">;</span>                     <span class="c1">% Total power output of the cycle, in MW
</span>
<span class="n">Qnet</span> <span class="o">=</span> <span class="mi">250</span><span class="p">;</span>                     <span class="c1">% Total heat input of the cycle, in MW
</span>


<span class="n">tflame</span> <span class="o">=</span> <span class="n">flametemp</span><span class="p">(</span><span class="n">fuels</span><span class="p">,</span> <span class="s1">'fuel_state'</span><span class="p">,</span> <span class="n">fuel_state</span><span class="p">,</span> <span class="s1">'fractions'</span><span class="p">,</span> <span class="n">fractions</span><span class="p">,</span> <span class="k">...</span><span class="c">
</span>
    <span class="s1">'real_air'</span><span class="p">,</span> <span class="n">real_air</span><span class="p">,</span> <span class="s1">'phi'</span><span class="p">,</span> <span class="n">phi</span><span class="p">,</span> <span class="s1">'air_temp'</span><span class="p">,</span> <span class="n">air_temp</span><span class="p">,</span> <span class="s1">'pressure'</span><span class="p">,</span> <span class="n">pressure</span><span class="p">,</span> <span class="k">...</span><span class="c">
</span>
    <span class="s1">'xCO2'</span><span class="p">,</span> <span class="n">xCO2</span><span class="p">,</span> <span class="s1">'xH2O'</span><span class="p">,</span> <span class="n">xH2O</span><span class="p">,</span> <span class="s1">'num_comb'</span><span class="p">,</span> <span class="n">num_comb</span><span class="p">,</span> <span class="s1">'eff'</span><span class="p">,</span> <span class="n">eff</span><span class="p">,</span> <span class="s1">'Wnet'</span><span class="p">,</span> <span class="n">Wnet</span><span class="p">);</span>
<span class="nb">disp</span><span class="p">(</span><span class="s2">"AFT: "</span> <span class="o">+</span> <span class="n">tflame</span><span class="p">)</span></code></pre></figure>

<p>You may not have all of these values, or you may not be carrying out a critical application. If such, you can skip many of the arguments above. Here is a breakdown:</p>

<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="n">fuels</span><span class="p">;</span>      <span class="c1">% 1. Fuels to be used (MUST INCLUDE)
</span>
<span class="n">fuel_state</span><span class="p">;</span> <span class="c1">% 2. State of the fuels (defaults to gas, "(g)", for all fuels)
</span>
<span class="n">fractions</span><span class="p">;</span>  <span class="c1">% 3. Fractions of the fuels (defaults to equal proportions, 1/numel(fuels))
</span>
<span class="n">real_air</span><span class="p">;</span>   <span class="c1">% 4. Proportion of air in the reaction (defaults to 1)
</span>
<span class="n">phi</span><span class="p">;</span>        <span class="c1">% 5. Relative humidity of air (defaults to 0)
</span>
<span class="n">air_temp</span><span class="p">;</span>   <span class="c1">% 6. Air temperature in ¬∞C (defaults to 25)
</span>
<span class="n">pressure</span><span class="p">;</span>   <span class="c1">% 7. Atmospheric pressure in kPa (defaults to 101.325)
</span>
<span class="n">xCO2</span><span class="p">;</span>       <span class="c1">% 8. Conversion rate of CO2 (defaults to 1)
</span>
<span class="n">xH2O</span><span class="p">;</span>       <span class="c1">% 9. Conversion rate of H2O (defaults to 1)
</span>

<span class="c1">% Optional values for cycle information
</span>
<span class="n">num_comb</span><span class="p">;</span>   <span class="c1">% 10. Number of combustors in the cycle (defaults to 1)
</span>
<span class="n">eff</span><span class="p">;</span>        <span class="c1">% 11. Efficiency of the cycle (Needed for molar flow)
</span>
<span class="n">Wnet</span><span class="p">;</span>       <span class="c1">% 12. Total power output of the cycle, in MW (Needed for molar flow)
</span>
<span class="n">Qnet</span><span class="p">;</span>       <span class="c1">% 13. Total heat input of the cycle, in MW (Needed for molar flow)</span></code></pre></figure>

<p>There are also some special options you can activate to print all the process of the code, as well as calculating a more precise AFT by interpolating for enthalpies in a large vector. The syntax is the following:</p>

<figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><span class="c1">% printmeall: Debugging - Print all the calculation process
</span>
<span class="c1">% precise: Calculate precise value for AFT (warning: long calculation times)
</span>
<span class="n">tflame</span> <span class="o">=</span> <span class="n">flametemp</span><span class="p">(</span><span class="n">fuels</span><span class="p">,</span> <span class="s1">'fuel_state'</span><span class="p">,</span> <span class="n">fuel_state</span><span class="p">,</span> <span class="s1">'fractions'</span><span class="p">,</span> <span class="n">fractions</span><span class="p">,</span> <span class="k">...</span><span class="c">
</span>
    <span class="s1">'real_air'</span><span class="p">,</span> <span class="n">real_air</span><span class="p">,</span> <span class="s1">'phi'</span><span class="p">,</span> <span class="n">phi</span><span class="p">,</span> <span class="s1">'air_temp'</span><span class="p">,</span> <span class="n">air_temp</span><span class="p">,</span> <span class="s1">'pressure'</span><span class="p">,</span> <span class="n">pressure</span><span class="p">,</span> <span class="k">...</span><span class="c">
</span>
    <span class="s1">'xCO2'</span><span class="p">,</span> <span class="n">xCO2</span><span class="p">,</span> <span class="s1">'xH2O'</span><span class="p">,</span> <span class="n">xH2O</span><span class="p">,</span> <span class="s1">'num_comb'</span><span class="p">,</span> <span class="n">num_comb</span><span class="p">,</span> <span class="s1">'eff'</span><span class="p">,</span> <span class="n">eff</span><span class="p">,</span> <span class="s1">'Wnet'</span><span class="p">,</span> <span class="n">Wnet</span><span class="p">,</span> <span class="k">...</span><span class="c">
</span>
    <span class="s1">'printmeall'</span><span class="p">,</span> <span class="nb">true</span><span class="p">,</span> <span class="s1">'precise'</span><span class="p">,</span> <span class="nb">true</span><span class="p">);</span>
<span class="nb">disp</span><span class="p">(</span><span class="s2">"Precise AFT: "</span> <span class="o">+</span> <span class="n">tflame</span><span class="p">)</span></code></pre></figure>

<p>These options are both deactivated (false) by default.</p>

<h2 id="credits">Credits</h2>

<!--Written by Jorge Porras (2025)-->
<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:1">
      <p>Cengel, Y. (2015). <em>Thermodynamics: An Engineering Approach.</em> McGraw Hill: 8th Ed.¬†<a href="#fnref:1" class="reversefootnote" role="doc-backlink">&#8617;</a>¬†<a href="#fnref:1:1" class="reversefootnote" role="doc-backlink">&#8617;<sup>2</sup></a></p>
    </li>
    <li id="fn:2">
      <p>Robayo, D (2024). <em>Termoqu√≠mica de la Combustion</em> (Lecture Notes). Universidad de La Sabana.¬†<a href="#fnref:2" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
  </ol>
</div>

</div>
</article>
  </main>

  <!-- _includes/footer.html -->
<footer class="site-footer">
  <div class="footer-content">
    <div class="social-links">
      <a href="https://github.com/yoon-zh" class="hover-glow" aria-label="GitHub">
        <i class="fab fa-github"></i>
      </a>
      <a href="mailto:yoon_zh@outlook.com" class="hover-glow" aria-label="Email">
        <i class="fas fa-envelope"></i>
      </a>
      <a href="https://www.linkedin.com/in/jorge-porras-1a7393282/" class="hover-glow" aria-label="LinkedIn">
        <i class="fab fa-linkedin"></i>
      </a>
      <a href="https://t.me/yo_o_n" class="hover-glow" aria-label="Telegram">
        <i class="fab fa-telegram-plane"></i>
      </a>
    </div>
    <div class="footer-bottom">
      <p>¬© 2025 Ïú§Âøó. All rights reserved.</p>
    </div>
  </div>
</footer>
<script src="/scripts/main.js"></script>
</body>
</html>