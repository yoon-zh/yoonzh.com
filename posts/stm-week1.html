<!-- _layouts/default.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <!-- _includes/head.html -->
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="referrer" content="no-referrer-when-downgrade">
  <title>yoonzh.com</title>
  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css">
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body);"></script>
  
</head>
</head>
<body class="">
  <!-- _includes/header.html -->
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-K2M9QVQ44D"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-K2M9QVQ44D');
</script>

<header class="site-header">
  <div class="nav-container">
    <div class="logo-container">
      <a href="/" class="logo-link">
        <h1 class="logo">Ïú§Âøó</h1>
      </a>
      <p class="logo-subtitle">[‰∫ë ~ Ï∞å]</p>
    </div>
    <nav class="nav-links">
      
        <a href="/projects/" class="hover-glow">Projects</a>
      
        <a href="/posts/" class="hover-glow">Posts</a>
      
        <a href="/about/" class="hover-glow">About</a>
      
    </nav>
  </div>
</header>
  
  <main class="page-content">
    <!-- _layouts/post.html -->
<article class="article-detail">
  <!-- _includes/article-content.html -->
<header class="article-header">
  <h1>
    stm week 1
    
  </h1>
  
  <div class="tech-tags">
    
      <span class="tech-tag">C/C++</span>
    
  </div>
  
  <div class="article-meta">
    
      <time datetime="2025-02-18T00:00:00+00:00">
        üìÖ 2025/02/18
      </time>
    
  </div>
</header>

<div class="article-content">
  <p><em>Adapted from <sup id="fnref:1"><a href="#fn:1" class="footnote" rel="footnote" role="doc-noteref">1</a></sup></em></p>

<h1 id="week-1-from-arduino-to-stm32">Week 1: From Arduino to STM32</h1>

<h2 id="key-concepts-explained">Key Concepts Explained</h2>

<h3 id="1-stm32-vs-arduino">1. STM32 vs. Arduino</h3>
<ul>
  <li><strong>Architecture</strong>: Arduino uses AVR/ARM microcontrollers with simplified abstractions. STM32 uses ARM Cortex-M cores with higher clock speeds (e.g., 72MHz vs. 16MHz on Arduino Uno).</li>
  <li><strong>Performance</strong>: STM32 has more memory (e.g., 64KB Flash vs. 32KB) and peripherals (timers, ADCs, communication interfaces).</li>
  <li><strong>Toolchain</strong>: Arduino uses Arduino IDE; STM32 requires STM32CubeIDE/Keil for code generation, compilation, and debugging.</li>
</ul>

<h3 id="code-comparison">Code Comparison</h3>

<p>Arduino (Blink LED):</p>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">pinMode</span><span class="p">(</span><span class="n">LED_BUILTIN</span><span class="p">,</span> <span class="n">OUTPUT</span><span class="p">);</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="nf">loop</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">digitalWrite</span><span class="p">(</span><span class="n">LED_BUILTIN</span><span class="p">,</span> <span class="n">HIGH</span><span class="p">);</span>
  <span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
  <span class="n">digitalWrite</span><span class="p">(</span><span class="n">LED_BUILTIN</span><span class="p">,</span> <span class="n">LOW</span><span class="p">);</span>
  <span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>STM32 (HAL Library in STM32CubeIDE):</p>
<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// In main.c</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">HAL_Init</span><span class="p">();</span>
  <span class="n">SystemClock_Config</span><span class="p">();</span>
  <span class="n">MX_GPIO_Init</span><span class="p">();</span> <span class="c1">// Configures LED pin as output</span>
  
  <span class="k">while</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">HAL_GPIO_TogglePin</span><span class="p">(</span><span class="n">GPIOA</span><span class="p">,</span> <span class="n">GPIO_PIN_5</span><span class="p">);</span>
    <span class="n">HAL_Delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span> <span class="c1">// 2Hz blink (500ms on/off)</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="2-workspace-navigation">2. Workspace Navigation</h3>
<ul>
  <li><strong>MDK-ARM Directory</strong>: Contains Keil project files.
    <ul>
      <li><code class="language-text highlighter-rouge">standard_board_c</code>: Hardware Abstraction Layer (HAL) drivers.</li>
      <li><code class="language-text highlighter-rouge">chassis_task.c</code>: RTOS tasks for motor control.</li>
    </ul>
  </li>
</ul>

<h3 id="3-toolchain-setup">3. Toolchain Setup</h3>
<ol>
  <li><strong>STM32CubeIDE</strong>: Install from <a href="https://www.st.com">ST Website</a>.</li>
  <li><strong>VSCode</strong>: Install extensions for C/C++ and Git.</li>
  <li><strong>Keil uVision</strong>: Configure device packs for STM32.</li>
</ol>

<h2 id="mini-exercises">Mini Exercises</h2>

<ol>
  <li><strong>Blink Rate Modification</strong>
    <ul>
      <li>Open <code class="language-text highlighter-rouge">bsp_led.c</code> in Keil. Change <code class="language-text highlighter-rouge">HAL_Delay(1000)</code> to <code class="language-text highlighter-rouge">HAL_Delay(250)</code> to blink at 4Hz.</li>
      <li><em>Tip</em>: Use <code class="language-text highlighter-rouge">HAL_GPIO_TogglePin()</code> instead of separate <code class="language-text highlighter-rouge">HAL_GPIO_WritePin</code> calls.</li>
    </ul>
  </li>
  <li><strong>Explore STM32CubeIDE</strong>
    <ul>
      <li>Create a new project for your STM32 board. Locate the GPIO configuration tab.</li>
    </ul>
  </li>
</ol>

<h2 id="project-walkthrough">Project Walkthrough</h2>

<h3 id="blink-led-at-2hz-using-stm32cubeide">Blink LED at 2Hz Using STM32CubeIDE</h3>
<ol>
  <li><strong>Create Project</strong>:
    <ul>
      <li>Open STM32CubeIDE ‚Üí New STM32 Project ‚Üí Select your microcontroller.</li>
      <li>Configure LED GPIO (e.g., PA5) as Output in the Pinout view.</li>
    </ul>
  </li>
  <li><strong>Generate Code</strong>:
    <ul>
      <li>Click ‚ÄúGenerate Code‚Äù to create boilerplate.</li>
    </ul>
  </li>
  <li><strong>Modify <code class="language-text highlighter-rouge">main.c</code></strong>:
    <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Inside the infinite loop in main.c</span>
<span class="k">while</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">HAL_GPIO_TogglePin</span><span class="p">(</span><span class="n">GPIOA</span><span class="p">,</span> <span class="n">GPIO_PIN_5</span><span class="p">);</span>
  <span class="n">HAL_Delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span> <span class="c1">// 500ms delay for 2Hz</span>
<span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li><strong>Build and Flash</strong>:
    <ul>
      <li>Click the hammer icon to compile. Connect your STM32 via ST-Link.</li>
      <li>Click the ‚ÄúRun‚Äù button to flash the code.</li>
    </ul>
  </li>
  <li><strong>GitHub Submission</strong>:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/your-repo.git
git add <span class="nb">.</span>
git commit <span class="nt">-m</span> <span class="s2">"Implemented 2Hz LED blink using STM32 HAL"</span>
git push
</code></pre></div>    </div>
  </li>
</ol>

<h2 id="questions">Questions</h2>

<ol>
  <li>What is the primary difference in architecture between Arduino Uno and STM32?</li>
  <li>Which HAL function is used to introduce a delay in STM32?</li>
  <li>What directory contains RTOS task definitions in the provided workspace?</li>
  <li>List two advantages of STM32 over Arduino.</li>
  <li>What is the purpose of <code class="language-text highlighter-rouge">MX_GPIO_Init()</code> in STM32 code?</li>
</ol>

<h2 id="dictionary">Dictionary</h2>

<ul>
  <li><strong>HAL (Hardware Abstraction Layer)</strong>: Library to abstract hardware operations (e.g., <code class="language-text highlighter-rouge">HAL_GPIO_TogglePin()</code>).</li>
  <li><strong>RTOS (Real-Time Operating System)</strong>: Manages multiple tasks with timing guarantees (e.g., FreeRTOS).</li>
  <li><strong>Toolchain</strong>: Set of tools for code development (STM32CubeIDE, compiler, debugger).</li>
  <li><strong>GPIO</strong>: General-purpose input/output pin.</li>
</ul>

<h2 id="resources">Resources</h2>

<ol>
  <li><a href="https://www.st.com">STM32CubeIDE Installation Guide</a></li>
  <li><a href="https://www.st.com/en/embedded-software/stm32cube-mcu-packages.html">STM32 HAL Documentation</a></li>
  <li><a href="https://git-scm.com/docs/gittutorial">Git Tutorial</a></li>
</ol>

<h2 id="debugging">Debugging</h2>

<ul>
  <li><strong>LED Not Blinking</strong>:
    <ul>
      <li>Verify GPIO configuration in <code class="language-text highlighter-rouge">MX_GPIO_Init()</code>.</li>
      <li>Check if the correct pin (e.g., PA5) is toggled.</li>
    </ul>
  </li>
  <li><strong>Compilation Errors</strong>:
    <ul>
      <li>Ensure HAL drivers are included in the project.</li>
    </ul>
  </li>
  <li><strong>Flashing Failed</strong>:
    <ul>
      <li>Reconnect ST-Link and restart the IDE.</li>
    </ul>
  </li>
</ul>

<h2 id="answers-to-questions">Answers to Questions</h2>

<ol>
  <li>STM32 uses ARM Cortex-M cores with higher clock speeds and more peripherals.</li>
  <li><code class="language-text highlighter-rouge">HAL_Delay()</code></li>
  <li><code class="language-text highlighter-rouge">chassis_task.c</code></li>
  <li>Higher performance, more memory, advanced peripherals.</li>
  <li>Initializes GPIO pins based on CubeMX configuration.</li>
</ol>

<hr />
<h2 id="credits">Credits</h2>

<!--Written by Jorge Porras (2025)-->
<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:1">
      <p>Deepseek.¬†<a href="#fnref:1" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
  </ol>
</div>

</div>
</article>
  </main>

  <!-- _includes/footer.html -->
<footer class="site-footer">
  <div class="footer-content">
    <div class="social-links">
      <a href="https://github.com/yoon-zh" class="hover-glow" aria-label="GitHub">
        <i class="fab fa-github"></i>
      </a>
      <a href="mailto:yoon_zh@outlook.com" class="hover-glow" aria-label="Email">
        <i class="fas fa-envelope"></i>
      </a>
      <a href="https://www.linkedin.com/in/jorge-porras-1a7393282/" class="hover-glow" aria-label="LinkedIn">
        <i class="fab fa-linkedin"></i>
      </a>
      <a href="https://t.me/yo_o_n" class="hover-glow" aria-label="Telegram">
        <i class="fab fa-telegram-plane"></i>
      </a>
    </div>
    <div class="footer-bottom">
      <p>¬© 2025 Ïú§Âøó. All rights reserved.</p>
    </div>
  </div>
</footer>
<script src="/scripts/main.js"></script>
<script src="/scripts/codeblocks.js"></script>
<script src="/scripts/axeptio.js"></script>
</body>
</html>